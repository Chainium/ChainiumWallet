<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
      <div class="col-12 col-md-6">
        <div class="input-group">
          <input
            class="form-control"
            type="number"
            placeholder="Block number"
            [value]="blockNumber>=0 ? blockNumber : (-1*blockNumber)"
            (input)="blockNumber = $event.target.value"
            (keydown.enter)="onBlockInfoButtonClick()"
            required>
            <button class="search-button" (click)="onBlockInfoButtonClick()" title="Click to get detailed block info.">
              <svg width="20px" viewBox="0 0 475.084 475.084">
                <path class="search-icon" d="M464.524,412.846l-97.929-97.925c23.6-34.068,35.406-72.047,35.406-113.917c0-27.218-5.284-53.249-15.852-78.087 c-10.561-24.842-24.838-46.254-42.825-64.241c-17.987-17.987-39.396-32.264-64.233-42.826 C254.246 5.285,228.217,0.003,200.999,0.003c-27.216,0-53.247,5.282-78.085,15.847C98.072,26.412,76.66,40.689,58.673,58.676 c-17.989,17.987-32.264,39.403-42.827,64.241C5.282,147.758,0,173.786,0,201.004c0,27.216,5.282,53.238,15.846,78.083 c10.562,24.838,24.838,46.247,42.827,64.234c17.987,17.993,39.403,32.264,64.241,42.832c24.841,10.563,50.869,15.844,78.085,15.844 c41.879,0,79.852-11.807,113.922-35.405l97.929,97.641c6.852,7.231,15.406,10.849,25.693,10.849 c9.897,0,18.467-3.617,25.694-10.849c7.23-7.23,10.848-15.796,10.848-25.693C475.088,428.458,471.567,419.889,464.524,412.846z M291.363,291.358c-25.029,25.033-55.148,37.549-90.364,37.549c-35.21,0-65.329-12.519-90.36-37.549 c-25.031-25.029-37.546-55.144-37.546-90.36c0-35.21,12.518-65.334,37.546-90.36c25.026-25.032,55.15-37.546,90.36-37.546 c35.212,0,65.331,12.519,90.364,37.546c25.033,25.026,37.548,55.15,37.548,90.36C328.911,236.214,316.392,266.329,291.363,291.358z" />
              </svg>
            </button>
        </div>
      </div>
    </div>
  </div>
  <ng-container *ngIf="blockInfo">
    <div class="container mt-5">

      <div class="row">
        <div class="col-12 col-md-6">
          <div class="card p-4 p-md-5">
            <div class="row justify-content-between align-items-center">
              <div class="col-12">
                <div class="row">
                  <div class="col-6">
                      <b>Block number:</b>
                  </div>
                  <div class="col-6 mt-2 mt-2 mt-md-0 brand text-right">
                    <h6 class="m-0">{{ blockInfo.number }}</h6>
                  </div>
                </div>
                <div class="row">
                    <div class="col-4 mt-2 mt-md-0">
                        <b>Block hash:</b>
                    </div>
                    <div class="col-8 mt-2 mt-md-0 text-truncate">
                      {{ blockInfo.hash }}
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 col-md-6 mb-3 mb-md-0">
          <div class="card p-4 p-md-5 mt-4 mt-md-0">
            <div class="row">
              <div class="col-12">
                <div class="row">
                  <div class="col-6">
                    <b>Configuration block number:</b>
                  </div>
                    <div class="col-6 mt-2 mt-2 mt-md-0 text-right">
                      <h6 class="m-0">{{blockInfo.configurationBlockNumber}}</h6>
                    </div>
                  </div>
              <div class="row">
                <div class="col-6">
                  <b>Previous block hash:</b>
                </div>
                <div class="col-6 mt-2 mt-md-0 text-right text-truncate">
                  {{ blockInfo.previousHash }}
                </div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container mt-5 px-5">
        <div class="row mt-5 mt-md-0">
          <div class="col-12 col-md-6">
            <div class="row">
              <div class="col">
                <b>Timestamp</b>
              </div>
              <div class="col border-right text-right">
                {{ blockInfo.blockTime }} {{ blockInfo.timestamp }}
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 border-top mt-5 mt-md-0">
            <div class="row mt-5 mt-md-0">
              <div class="col">
                <b>Proposer Address</b>
              </div>
              <div class="col text-right text-truncate">
                {{ blockInfo.proposerAddress }}
              </div>
            </div>
          </div>
        </div>
      </div>
</ng-container>
<!--
<div class="column-container align-center">
    <mat-form-field>
        <input matInput placeholder="block number"
            [value]="blockNumber>=0 ? blockNumber : (-1*blockNumber)"
            (input)="blockNumber = $event.target.value" type="number" required
            (keydown.enter)="onBlockInfoButtonClick()">
    </mat-form-field>
    <button (click)="onBlockInfoButtonClick()" mat-raised-button color="accent"
        matTooltip="Click to get detailed block info.">
            GET BLOCK
    </button>
</div>
<div class="column-container" *ngIf="blockInfo">
    <mat-toolbar class="toolbar-header">Block info</mat-toolbar>
    <mat-divider class="toolbar-bottom-margin"></mat-divider>
    <mat-form-field class="info-item-margin">
        <input matInput placeholder="block number" disabled
            value="{{blockInfo.number}}">
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="block hash" disabled
            value="{{blockInfo.hash}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.hash}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="previous block hash" disabled
            value="{{blockInfo.previousHash}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.previousHash}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <input matInput placeholder="configuration block number" disabled
            value="{{blockInfo.configurationBlockNumber}}"
            type="text">
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <input matInput placeholder="timestamp" disabled
            value="{{blockInfo.blockTime}} {{blockInfo.timestamp}}"
            type="text">
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="proposer address" disabled
            value="{{blockInfo.proposerAddress}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.proposerAddress}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title class="font-bold">
                Merkle Roots
            </mat-panel-title>
        </mat-expansion-panel-header>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="transactions root" disabled
            value="{{blockInfo.txSetRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.txSetRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="transaction results root" disabled
            value="{{blockInfo.txResultSetRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.txResultSetRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="equivocation proofs root" disabled
            value="{{blockInfo.equivocationProofsRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.equivocationProofsRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="equivocation proof results root" disabled
            value="{{blockInfo.equivocationProofResultsRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.equivocationProofResultsRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="state root" disabled
            value="{{blockInfo.stateRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.stateRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="staking rewards set root" disabled
            value="{{blockInfo.stakingRewardsRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.stakingRewardsRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    <mat-form-field class="info-item-margin">
        <textarea matInput placeholder="staking rewards set root" disabled
            value="{{blockInfo.configurationRoot || '-'}}">
        </textarea>
        <mat-icon matSuffix color="accent" ngxClipboard
            cbContent="{{blockInfo.configurationRoot || ''}}"
            class="pointer margin-l-20 animate-click">
                file_copy
        </mat-icon>
    </mat-form-field>
    </mat-expansion-panel>

    <mat-expansion-panel *ngIf="blockInfo.equivocationProofs.length > 0">
        <mat-expansion-panel-header>
            <mat-panel-title class="font-bold">
                Equivocation proofs
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field class="info-item-margin"
            *ngFor="let equivocationProof of blockInfo.equivocationProofs">
            <div class="validators-container">
                <textarea matInput placeholder="equivocation proofs" disabled
                    value="{{equivocationProof}}">
                </textarea>
                <mat-icon matSuffix color="accent" ngxClipboard
                    cbContent="{{equivocationProof}}"
                    class="pointer margin-l-20 animate-click">
                        file_copy
                </mat-icon>
            </div>
        </mat-form-field>
    </mat-expansion-panel>

    <mat-expansion-panel *ngIf="showStakingRewards">
        <mat-expansion-panel-header>
            <mat-panel-title class="font-bold">
                Staking rewards
            </mat-panel-title>
        </mat-expansion-panel-header>
        <table class="full-width">
            <tr class="info-item-margin" *ngFor="let reward of blockInfo.stakingRewards">
                <td *ngIf="reward.amount > 0">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="staker address" disabled type="text"
                            value="{{reward.stakerAddress}}">
                    </mat-form-field>
                </td>
                <td *ngIf="reward.amount > 0">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="amount" disabled type="number"
                            value="{{reward.amount}}">
                    </mat-form-field>
                </td>
            </tr>
        </table>
    </mat-expansion-panel>

    <mat-expansion-panel *ngIf="blockInfo.configuration">
        <mat-expansion-panel-header>
            <mat-panel-title class="font-bold">
                Configuration
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field class="info-item-margin">
            <input matInput placeholder="configuration block delta" disabled
                value="{{blockInfo.configuration.configurationBlockDelta}}" type="text">
        </mat-form-field>
        <mat-form-field class="info-item-margin">
            <input matInput placeholder="max tx count per block" disabled
                value="{{blockInfo.configuration.maxTxCountPerBlock}}" type="text">
        </mat-form-field>
        <mat-form-field class="info-item-margin">
            <input matInput placeholder="validator blacklist time" disabled
                value="{{blockInfo.configuration.validatorBlacklistTime}}" type="text">
        </mat-form-field>
        <mat-form-field class="info-item-margin">
            <input matInput placeholder="validator deposit lock time" disabled
                value="{{blockInfo.configuration.validatorDepositLockTime}}" type="text">
        </mat-form-field>
        <ng-container *ngIf="blockInfo.configuration.validators.length > 0">
            <h3 class="validator-header">Validators</h3>
            <ng-container *ngFor="let validator of blockInfo.configuration.validators; let i = index">
                <h4 class="validator-title">Validator {{i+1}}</h4>
                <mat-form-field class="info-item-margin">
                    <div class="validators-container">
                        <textarea matInput placeholder="validator address" disabled
                            value="{{validator.validatorAddress}}">
                        </textarea>
                        <mat-icon matSuffix color="accent" ngxClipboard
                            cbContent="{{validator.validatorAddress}}"
                            class="pointer margin-l-20 animate-click">
                            file_copy
                        </mat-icon>
                    </div>
                </mat-form-field>
                <mat-form-field class="info-item-margin">
                    <div class="validators-container">
                        <textarea matInput placeholder="network address" disabled
                            value="{{validator.networkAddress}}">
                        </textarea>
                        <mat-icon matSuffix color="accent" ngxClipboard
                            cbContent="{{validator.networkAddress}}"
                            class="pointer margin-l-20 animate-click">
                            file_copy
                        </mat-icon>
                    </div>
                </mat-form-field>
                <mat-form-field class="info-item-margin">
                    <div class="validators-container">
                        <textarea matInput placeholder="shared reward percent" disabled
                            value="{{validator.sharedRewardPercent}}">
                        </textarea>
                    </div>
                </mat-form-field>
                <mat-form-field class="info-item-margin">
                    <div class="validators-container">
                        <textarea matInput placeholder="total stake" disabled
                            value="{{validator.totalStake}}">
                        </textarea>
                    </div>
                </mat-form-field>
            </ng-container>
        </ng-container>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title class="font-bold">
                Signatures
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-form-field class="info-item-margin">
            <div class="validators-container">
                <textarea matInput placeholder="consensus round" disabled
                    value="{{blockInfo.consensusRound}}"
                    type="text">
                </textarea>
            </div>
        </mat-form-field>
        <ng-container class="info-item-margin" *ngIf="blockInfo.signatures.length > 0">
            <mat-form-field class="info-item-margin"
                *ngFor="let signature of blockInfo.signatures; let i=index">
                <div class="validators-container">
                    <textarea matInput placeholder="signature {{i+1}}" disabled
                        value="{{signature}}">
                    </textarea>
                    <mat-icon matSuffix color="accent" ngxClipboard
                        cbContent="{{signature}}"
                        class="pointer margin-l-20 animate-click">
                            file_copy
                    </mat-icon>
                </div>
            </mat-form-field>
        </ng-container>
    </mat-expansion-panel>

    <ng-container *ngIf="blockInfo.txSet.length > 0">
        <mat-toolbar class="toolbar-header">
            Transactions
        </mat-toolbar>
        <mat-divider>
        </mat-divider>
        <mat-nav-list>
        <a mat-list-item *ngFor="let transaction of blockInfo.txSet"
            routerLink="/tx/{{transaction}}"
            matTooltip="Click to get detailed transaction info.">
                {{transaction}}
        </a>
        </mat-nav-list>
    </ng-container>
    <ng-container *ngIf="blockInfo.equivocationProofs.length > 0">
        <mat-toolbar class="toolbar-header">
            Equivocation Proofs
        </mat-toolbar>
        <mat-divider>
        </mat-divider>
        <mat-nav-list>
        <a mat-list-item *ngFor="let equivocationProof of blockInfo.equivocationProofs"
            routerLink="/equivocation/{{equivocationProof}}"
            matTooltip="Click to get detailed equivocation proof info.">
                {{equivocationProof}}
        </a>
        </mat-nav-list>
    </ng-container>
</div>
<div class="column-container" *ngIf="errors">
    <mat-toolbar class="toolbar-header">Errors</mat-toolbar>
    <mat-divider class="toolbar-bottom-margin"></mat-divider>
    <mat-list>
        <mat-list-item *ngFor="let error of errors">{{error}}</mat-list-item>
    </mat-list>
</div>
-->
